<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>LOBE- COMPARATIVE ANALYSIS RESULTS</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"><!--bootstrap file-->
	<link rel="stylesheet" type="text/css" href="css/style.css"><!--Css file-->
	<link rel="stylesheet" type="text/css" href="css/all.min.css"><!--Css file-->
	<link rel="stylesheet" type="text/css" href="css/responsive.css"><!--Css file-->
</head>
<body>
	<section class="dashboard-body">
		<div class="container-fluid">
			<div class="row heading">
				<div class="col-sm-3"></div>
				<div class="col-sm-8">
					<h5>LEARNING OBJECT EVALUATION TOOL</h5>
				</div>
				<div class="col-sm-1 go-bck-btn">
					<a href="analytics-panel.html">Go Back</a>
				</div>
			</div>
			<div class="row">
				<!-- Side Panel -->
				<div class="col-sm-3 dashboard-panel">
					<div class="row">
						<div class="col-sm-12">
							<img src="imgs/Ellipse.png">
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<h4 id="dash-name"></h4>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<a href="javascript:void(0)" class="disabled-btn">View Analysis</a>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<a href="settings.html">Settings</a>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<a href="" id="logout">Logout</a>
						</div>
					</div>
				</div>
				<!-- Main Content body -->
				<div class="col-sm-9 result-panel comp-form-results">
					<div class="row new-comp">
						<!-- Detailed Score -->
						<h4>Comparative Analysis</h4>
						<span class="legend-span">LEGEND :</span>
						<div class="col-sm-12 new-comp-cnt">
							<div class="row">
								<div class="col-sm-2 zero">
									<a href="javascript:void(0)" class="zero-link" id="zone-0">
										Non-significant remedial effort &nbsp;<span data-toggle="tooltip" title="You are very strong in">i</span>
									</a>
								</div>
								<div class="col-sm-2 zero" style="background-color: #008080;">
									<a href="javascript:void(0)" class="zero-link" id="zone-1">
										Minor remedial effort &nbsp;<span data-toggle="tooltip" title="You are very strong in">i</span>
									</a>
								</div>
								<div class="col-sm-2 moderate">
									<a href="javascript:void(0)" class="mode-link" id="zone-2">
										Moderate remedial effort &nbsp;<span data-toggle="tooltip" title="You are strong in">i</span>
									</a>
								</div>

								<div class="col-sm-2 high">
									<a href="javascript:void(0)" class="high-link" id="zone-3">
										High remedial effort &nbsp;<span data-toggle="tooltip" title="You are weak in">i</span>
									</a>
								</div>

								<div class="col-sm-2 danger">
									<a href="javascript:void(0)" class="dang-link" id="zone-4">
										Danger Zone &nbsp;<span data-toggle="tooltip" title="You are very weak in">i</span>
									</a>
								</div>
							</div>

							<!-- Content Table -->
							<div class="comp-table" id="comp-content">
								<table class="table table-bordered">
									<thead>
										<tr>
											<th class="quality-company">
												<span>CONTENT QUALITY</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 1</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 2</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 3</span>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th>
												<span>
													C1. Is the content accurate?*
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="high-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													C2. Is the content sufficient and up-to-date with respect to relevant advances in the topic in a grade appropriate manner?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													C3. Is the content situated in an appropriate context?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
									</tbody>
								</table>
							</div>

							<!-- Pedagogy table -->
							<div class="comp-table" id="comp-pedagogy">
								<table class="table table-bordered">
									<thead>
										<tr>
											<th class="quality-company">
												<span>PEDAGOGICAL ALIGNMENT</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 1</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 2</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 3</span>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th>
												<span>
													P1. Is the content accurate?*
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="high-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													P2. Is the content sufficient and up-to-date with respect to relevant advances in the topic in a grade appropriate manner?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													P3. Is the content situated in an appropriate context?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
									</tbody>
								</table>
							</div>

							<!-- Design table -->
							<div class="comp-table" id="comp-design">
								<table class="table table-bordered">
									<thead>
										<tr>
											<th class="quality-company">
												<span>DESIGN EFFICACY</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 1</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 2</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 3</span>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th>
												<span>
													D1. Is the content accurate?*
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="high-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													D2. Is the content sufficient and up-to-date with respect to relevant advances in the topic in a grade appropriate manner?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													D3. Is the content situated in an appropriate context?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
									</tbody>
								</table>
							</div>

							<!-- Technological table -->
							<div class="comp-table" id="comp-techno">
								<table class="table table-bordered">
									<thead>
										<tr>
											<th class="quality-company">
												<span>Technological Integration</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 1</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 2</span>
											</th>
											<th class="company-thead">
												<span>COMPANY 3</span>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th>
												<span>
													T1. Is the content accurate?*
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="high-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													T2. Is the content sufficient and up-to-date with respect to relevant advances in the topic in a grade appropriate manner?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<span>
													T3. Is the content situated in an appropriate context?
												</span>
											</th>
											<th>
												<div class="circle">
													<span class="moderate-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="danger-circle"></span>
												</div>
											</th>
											<th>
												<div class="circle">
													<span class="zero-circle"></span>
												</div>
											</th>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script><!--JQuery file-->
<script type="text/javascript" src="js/jquery-ui.min.js"></script><!--Jquery UI File-->
<script type="text/javascript" src="js/umd/popper.min.js"></script><!--popper-->
<script type="text/javascript" src="js/bootstrap.min.js"></script><!--bootstrap-->
<script type="text/javascript" src="js/auth.js"></script>

<script type="text/javascript">
	$(document).ready(function () {
		$('[data-toggle="tooltip"]').tooltip();

		var user = runValidations();
		var accessToken = localStorage.getItem("accessToken");

		if(user.status!='ACTIVE'){
			window.location.replace("signup.html");
		}

		var type;
		if(user.roles.includes('evaluator')){
			type='evaluator';
			$('#dash-name').append('EVALUATOR DASHBOARD');
		}
		else{
			type='generator';
			$('#dash-name').append('GENERATOR DASHBOARD');
		}

		var url = new URL(window.location.href);
		var lobeIds = url.searchParams.get("lobeIds");

		$.ajax({
			type: 'GET',
			url: basePath+'/api/analytics/comparative-analysis?lobeIds='+lobeIds,
			dataType: 'json',
			async: false,
			headers : {
				'Authorization': 'Bearer '+accessToken,
			},
			success: function(response){

				var allRepos = [];
				var cData = [];
				var pData = [];
				var dData = [];
				var tData = [];

				var i=0;
				response.data.forEach(function(repoData){

					allRepos.push(repoData.repositoryName);

					repoData.cmpDimensions.forEach(function(dimension){

						var x=0;
						dimension.cmpQuestions.forEach(function(question){

							var dimensionName = dimension.dimensionName;

							if(dimensionName=='Content Quality'){
								if(i==0){
									cData[x]={};
									cData[x].zones=[];
								}
								cData[x].question=question.question;
								cData[x].zones.push(question.zone);
							}
							else if(dimensionName=='Pedagogical Alignment'){
								if(i==0){
									pData[x]={};
									pData[x].zones=[];
								}
								pData[x].question=question.question;
								pData[x].zones.push(question.zone);
							}
							else if(dimensionName=='Design Efficacy'){
								if(i==0){
									dData[x]={};
									dData[x].zones=[];
								}
								dData[x].question=question.question;
								dData[x].zones.push(question.zone);
							}
							else if(dimensionName=='Technological Integration'){
								if(i==0){
									tData[x]={};
									tData[x].zones=[];
								}
								tData[x].question=question.question;
								tData[x].zones.push(question.zone);
							}
							x++;
						});

					});
					i++;
				});

				console.log(cData);
				console.log(pData);
				console.log(dData);
				console.log(tData);
			}
		});
	});
</script>
</html>